---
import DocsLayout from "../../../layouts/DocsLayout.astro";
import CodeBlock from "../../../components/CodeBlock.astro";

const inputOtpCode = `<div x-data="mwInputOTP(6)">
  <p class="text-sm text-muted-foreground mb-4">
    Enter the 6-digit code sent to your email.
  </p>

  <div class="flex items-center gap-2 justify-center">
    <template x-for="(val, index) in values" :key="index">
      <div class="flex items-center">
        <input
          :x-ref="'otp' + index"
          type="text"
          inputmode="numeric"
          maxlength="1"
          class="mw-input w-10 h-12 text-center text-lg font-semibold"
          :value="values[index]"
          @input="handleInput(index, $event)"
          @keydown="handleKeydown(index, $event)"
        />
        <!-- Optional separator after 3rd digit -->
        <template x-if="index === 2">
          <div class="mx-1 text-muted-foreground">-</div>
        </template>
      </div>
    </template>
  </div>

  <!-- Access the full code with: -->
  <p x-text="code"></p>
</div>`;
---

<DocsLayout title="Input OTP" description="A one-time password input with separate boxes for each digit" activeComponent="input-otp">
      <div class="space-y-8">
        <div>
          <h1 class="font-heading text-3xl font-bold tracking-tight">Input OTP</h1>
          <p class="mt-2 text-lg text-muted-foreground">A one-time password input with separate boxes for each digit.</p>
        </div>
        <div class="mw-separator"></div>

        <div class="space-y-3">
          <h2 class="font-heading text-xl font-semibold">Preview</h2>
          <div class="mw-card flex items-center justify-center min-h-[200px]">
            <div class="text-center" x-data="mwInputOTP(6)">
              <p class="text-sm text-muted-foreground mb-4">Enter the 6-digit code sent to your email.</p>
              <div class="flex items-center gap-2 justify-center">
                <template x-for="(val, index) in values" :key="index">
                  <div class="flex items-center">
                    <input
                      :x-ref="'otp' + index"
                      type="text"
                      inputmode="numeric"
                      maxlength="1"
                      class="mw-input w-10 h-12 text-center text-lg font-semibold"
                      :value="values[index]"
                      @input="handleInput(index, $event)"
                      @keydown="handleKeydown(index, $event)"
                    />
                    <template x-if="index === 2">
                      <div class="mx-1 text-muted-foreground">-</div>
                    </template>
                  </div>
                </template>
              </div>
              <p class="text-xs text-muted-foreground mt-3">
                Code: <span x-text="code" class="font-mono font-semibold text-foreground"></span>
              </p>
            </div>
          </div>
        </div>

        <div class="space-y-3">
          <h2 class="font-heading text-xl font-semibold">Code</h2>
          <CodeBlock code={inputOtpCode} lang="html" />
        </div>
      </div>

</DocsLayout>
