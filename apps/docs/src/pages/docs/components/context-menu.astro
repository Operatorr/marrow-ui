---
import DocsLayout from "../../../layouts/DocsLayout.astro";
---

<DocsLayout title="Context Menu" description="A menu that appears on right-click, providing contextual actions for an element" activeComponent="context-menu">
      <div class="space-y-8">
        <div>
          <h1 class="font-heading text-3xl font-bold tracking-tight">Context Menu</h1>
          <p class="mt-2 text-lg text-muted-foreground">A menu that appears on right-click, providing contextual actions for an element.</p>
        </div>
        <div class="mw-separator"></div>

        <div class="space-y-3">
          <h2 class="font-heading text-xl font-semibold">Preview</h2>
          <div class="mw-card flex items-center justify-center min-h-[200px]" x-data="mwContextMenu()">
            <div @contextmenu="show($event)"
              class="flex items-center justify-center w-full max-w-sm h-[150px] border-2 border-dashed border-border rounded-marrow text-sm text-muted-foreground select-none">
              Right-click here to open context menu
            </div>

            <!-- Context Menu -->
            <div x-show="open" x-cloak
              @click.away="close()"
              @keydown.escape.window="close()"
              :style="'position: fixed; left: ' + x + 'px; top: ' + y + 'px; z-index: 50;'"
              x-transition:enter="transition ease-out duration-100"
              x-transition:enter-start="opacity-0 scale-95"
              x-transition:enter-end="opacity-100 scale-100"
              x-transition:leave="transition ease-in duration-75"
              x-transition:leave-start="opacity-100 scale-100"
              x-transition:leave-end="opacity-0 scale-95"
              class="mw-popover w-48">
              <button @click="close()" class="mw-menu-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/><polyline points="16 6 12 2 8 6"/><line x1="12" x2="12" y1="2" y2="15"/></svg>
                Share
              </button>
              <button @click="close()" class="mw-menu-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                Copy
                <span class="ml-auto text-xs text-muted-foreground">Ctrl+C</span>
              </button>
              <button @click="close()" class="mw-menu-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/></svg>
                Edit
              </button>
              <div class="mw-menu-separator"></div>
              <button @click="close()" class="mw-menu-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z"/></svg>
                Rename
              </button>
              <div class="mw-menu-separator"></div>
              <button @click="close()" class="mw-menu-item text-destructive hover:text-destructive">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>
                Delete
                <span class="ml-auto text-xs text-muted-foreground">Del</span>
              </button>
            </div>
          </div>
        </div>

        <div class="space-y-3">
          <h2 class="font-heading text-xl font-semibold">Code</h2>
          <div class="mw-code-block">
            <button onclick="copyCode(this)" class="copy-btn" title="Copy to clipboard">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
            </button>
            <pre><code>&lt;div x-data="mwContextMenu()"&gt;
  &lt;!-- Right-click trigger area --&gt;
  &lt;div @contextmenu="show($event)"
    class="flex items-center justify-center h-[150px] border-2 border-dashed border-border rounded-marrow text-sm text-muted-foreground"&gt;
    Right-click here to open context menu
  &lt;/div&gt;

  &lt;!-- Context Menu --&gt;
  &lt;div x-show="open" x-cloak
    @click.away="close()"
    @keydown.escape.window="close()"
    :style="'position: fixed; left: ' + x + 'px; top: ' + y + 'px; z-index: 50;'"
    class="mw-popover w-48"&gt;
    &lt;button @click="close()" class="mw-menu-item"&gt;
      Share
    &lt;/button&gt;
    &lt;button @click="close()" class="mw-menu-item"&gt;
      Copy
      &lt;span class="ml-auto text-xs text-muted-foreground"&gt;Ctrl+C&lt;/span&gt;
    &lt;/button&gt;
    &lt;button @click="close()" class="mw-menu-item"&gt;
      Edit
    &lt;/button&gt;
    &lt;div class="mw-menu-separator"&gt;&lt;/div&gt;
    &lt;button @click="close()" class="mw-menu-item"&gt;
      Rename
    &lt;/button&gt;
    &lt;div class="mw-menu-separator"&gt;&lt;/div&gt;
    &lt;button @click="close()" class="mw-menu-item text-destructive"&gt;
      Delete
      &lt;span class="ml-auto text-xs text-muted-foreground"&gt;Del&lt;/span&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
          </div>
        </div>
      </div>

</DocsLayout>
