---
import DocsLayout from "../../../layouts/DocsLayout.astro";
import CodeBlock from "../../../components/CodeBlock.astro";
import { loadTemplate } from "../../../utils/template-loader";

const t = loadTemplate("kbd");
const kbdCode = t.sections.get("Kbd")!;
const kbdShortcutsCode = t.sections.get("Kbd Shortcuts")!;
const kbdUsageCode = t.sections.get("Kbd Usage")!;
---

<DocsLayout title="Kbd" description="Keyboard shortcut indicator for displaying key combinations" activeComponent="kbd">
  <div class="space-y-12">

    <header>
      <div class="flex items-center gap-3 mb-4">
        <span class="docs-badge">Typography & Micro</span>
        <span class="docs-badge-primary docs-badge">Pure CSS</span>
      </div>
      <h1 class="docs-hero-title">Kbd</h1>
      <p class="docs-hero-description mt-3">A keyboard shortcut indicator used to display individual keys or key combinations inline with text. Styled with a monospace font, muted background, and subtle border.</p>
    </header>

    <section>
      <span class="docs-section-label">Preview</span>
      <div class="docs-stage space-y-8">
        <!-- Individual Keys -->
        <div>
          <p class="text-xs font-semibold uppercase tracking-wider text-muted-foreground/70 mb-3">Individual Keys</p>
          <div class="flex items-center gap-2 flex-wrap">
            <kbd class="mw-kbd">Ctrl</kbd>
            <kbd class="mw-kbd">Alt</kbd>
            <kbd class="mw-kbd">Shift</kbd>
            <kbd class="mw-kbd">⌘</kbd>
            <kbd class="mw-kbd">Enter</kbd>
            <kbd class="mw-kbd">Esc</kbd>
            <kbd class="mw-kbd">Tab</kbd>
          </div>
        </div>

        <!-- Common Shortcuts -->
        <div>
          <p class="text-xs font-semibold uppercase tracking-wider text-muted-foreground/70 mb-3">Common Shortcuts</p>
          <div class="flex items-center gap-4 flex-wrap">
            <span class="flex items-center gap-1">
              <kbd class="mw-kbd">⌘</kbd>
              <kbd class="mw-kbd">C</kbd>
            </span>
            <span class="text-sm text-muted-foreground">Copy</span>

            <span class="flex items-center gap-1">
              <kbd class="mw-kbd">⌘</kbd>
              <kbd class="mw-kbd">V</kbd>
            </span>
            <span class="text-sm text-muted-foreground">Paste</span>

            <span class="flex items-center gap-1">
              <kbd class="mw-kbd">⌘</kbd>
              <kbd class="mw-kbd">Z</kbd>
            </span>
            <span class="text-sm text-muted-foreground">Undo</span>

            <span class="flex items-center gap-1">
              <kbd class="mw-kbd">Ctrl</kbd>
              <kbd class="mw-kbd">Shift</kbd>
              <kbd class="mw-kbd">P</kbd>
            </span>
            <span class="text-sm text-muted-foreground">Command Palette</span>
          </div>
        </div>

        <!-- Inline Usage -->
        <div>
          <p class="text-xs font-semibold uppercase tracking-wider text-muted-foreground/70 mb-3">Inline with Text</p>
          <p class="text-sm">Press <kbd class="mw-kbd">⌘</kbd> <kbd class="mw-kbd">K</kbd> to open the command palette.</p>
        </div>
      </div>
    </section>

    <section>
      <span class="docs-section-label">In Context</span>
      <div class="docs-stage">
        <div class="max-w-sm mx-auto">
          <div class="rounded-lg border border-border bg-card p-5 space-y-4">
            <div class="flex items-center gap-2 mb-1">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-muted-foreground" aria-hidden="true"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="M6 8h.001M10 8h.001M14 8h.001M18 8h.001M8 12h.001M12 12h.001M16 12h.001M7 16h10"/></svg>
              <h3 class="font-heading text-sm font-semibold">Keyboard Shortcuts</h3>
            </div>
            <div class="space-y-3">
              <div class="flex items-center justify-between">
                <span class="text-sm">Search</span>
                <span class="flex items-center gap-1">
                  <kbd class="mw-kbd">⌘</kbd>
                  <kbd class="mw-kbd">K</kbd>
                </span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-sm">New document</span>
                <span class="flex items-center gap-1">
                  <kbd class="mw-kbd">⌘</kbd>
                  <kbd class="mw-kbd">N</kbd>
                </span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-sm">Save</span>
                <span class="flex items-center gap-1">
                  <kbd class="mw-kbd">⌘</kbd>
                  <kbd class="mw-kbd">S</kbd>
                </span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-sm">Undo</span>
                <span class="flex items-center gap-1">
                  <kbd class="mw-kbd">⌘</kbd>
                  <kbd class="mw-kbd">Z</kbd>
                </span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-sm">Redo</span>
                <span class="flex items-center gap-1">
                  <kbd class="mw-kbd">⌘</kbd>
                  <kbd class="mw-kbd">Shift</kbd>
                  <kbd class="mw-kbd">Z</kbd>
                </span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-sm">Command palette</span>
                <span class="flex items-center gap-1">
                  <kbd class="mw-kbd">Ctrl</kbd>
                  <kbd class="mw-kbd">Shift</kbd>
                  <kbd class="mw-kbd">P</kbd>
                </span>
              </div>
            </div>
            <p class="text-xs text-muted-foreground pt-2 border-t border-border">Press <kbd class="mw-kbd">?</kbd> anywhere to view all shortcuts.</p>
          </div>
        </div>
      </div>
    </section>

    <section>
      <span class="docs-section-label">Code</span>
      <div class="space-y-4">
        <CodeBlock code={kbdCode} lang="html" />
        <CodeBlock code={kbdShortcutsCode} lang="html" />
        <CodeBlock code={kbdUsageCode} lang="html" />
      </div>
    </section>

    <section>
      <span class="docs-section-label">API Reference</span>
      <div class="overflow-x-auto rounded-lg border border-border">
        <table class="docs-api-table">
          <thead>
            <tr>
              <th>Class</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr><td><code>mw-kbd</code></td><td>Base keyboard key style with monospace font, muted background, border, and shadow</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <section>
      <span class="docs-section-label">Guidelines</span>
      <div class="space-y-4">
        <div class="docs-note">
          <p><strong>Accessibility</strong></p>
          <ul class="list-disc list-inside mt-2 space-y-1">
            <li>Use semantic <code>&lt;kbd&gt;</code> elements for keyboard keys</li>
            <li>Consider platform-specific shortcuts (⌘ for macOS, Ctrl for Windows/Linux)</li>
            <li>Ensure sufficient color contrast between kbd elements and background</li>
            <li>Use <code>aria-label</code> for screen readers when showing only symbols</li>
          </ul>
        </div>
        <div class="docs-note">
          <p><strong>Best Practices</strong></p>
          <ul class="list-disc list-inside mt-2 space-y-1">
            <li>Wrap multi-key combinations in a flex container with <code>gap-1</code></li>
            <li>Display shortcuts alongside menu items as trailing elements</li>
            <li>Group related shortcuts together with labels for discoverability</li>
            <li>Keep key labels short &mdash; use symbols where possible</li>
          </ul>
        </div>
      </div>
    </section>

  </div>
</DocsLayout>
