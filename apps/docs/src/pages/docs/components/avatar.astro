---
import DocsLayout from "../../../layouts/DocsLayout.astro";
import CodeBlock from "../../../components/CodeBlock.astro";

const avatarCode = `<!-- Default Size -->
<div class="mw-avatar">
  <img src="https://i.pravatar.cc/150?img=32" alt="Alice Johnson" />
</div>

<!-- Small Size -->
<div class="mw-avatar mw-avatar-sm">
  <img src="https://i.pravatar.cc/150?img=47" alt="Bob Wilson" />
</div>

<!-- Large Size -->
<div class="mw-avatar mw-avatar-lg">
  <img src="https://i.pravatar.cc/150?img=12" alt="Carol Smith" />
</div>

<!-- Fallback Initials -->
<div class="mw-avatar">
  <span>AJ</span>
</div>

<!-- Avatar Group (Overlapping) -->
<div class="flex -space-x-4">
  <div class="mw-avatar ring-2 ring-background">
    <img src="https://i.pravatar.cc/150?img=32" alt="Alice Johnson" />
  </div>
  <div class="mw-avatar ring-2 ring-background">
    <img src="https://i.pravatar.cc/150?img=47" alt="Bob Wilson" />
  </div>
  <div class="mw-avatar ring-2 ring-background">
    <img src="https://i.pravatar.cc/150?img=12" alt="Carol Smith" />
  </div>
  <div class="mw-avatar ring-2 ring-background">
    <span>+3</span>
  </div>
</div>

<!-- With Status Indicator -->
<div class="relative inline-block">
  <div class="mw-avatar">
    <img src="https://i.pravatar.cc/150?img=32" alt="Alice Johnson" />
  </div>
  <span class="absolute bottom-0 right-0 block h-3 w-3 rounded-full bg-green-500 ring-2 ring-background"></span>
</div>`;
---

<DocsLayout title="Avatar" description="An image element with a fallback for representing the user" activeComponent="avatar">
  <div class="space-y-8">
    <div>
      <h1 class="font-heading text-3xl font-bold tracking-tight text-pretty">Avatar</h1>
      <p class="mt-2 text-muted-foreground leading-relaxed">An image element with a fallback for representing the user.</p>
    </div>
    <div class="mw-separator"></div>

    <!-- Preview -->
    <div class="space-y-4">
      <h2 class="font-heading text-2xl font-semibold tracking-tight text-pretty">Preview</h2>
      <div class="mw-card">
        <div class="space-y-8">
          <!-- Sizes -->
          <div>
            <h3 class="font-heading text-lg font-semibold mb-4">Sizes</h3>
            <div class="flex items-end gap-6 flex-wrap">
              <div class="flex flex-col items-center gap-3">
                <div class="mw-avatar mw-avatar-sm">
                  <img src="https://i.pravatar.cc/150?img=32" alt="Alice Johnson" />
                </div>
                <span class="text-sm font-medium text-muted-foreground uppercase tracking-wider">Small</span>
              </div>
              <div class="flex flex-col items-center gap-3">
                <div class="mw-avatar">
                  <img src="https://i.pravatar.cc/150?img=47" alt="Bob Wilson" />
                </div>
                <span class="text-sm font-medium text-muted-foreground uppercase tracking-wider">Default</span>
              </div>
              <div class="flex flex-col items-center gap-3">
                <div class="mw-avatar mw-avatar-lg">
                  <img src="https://i.pravatar.cc/150?img=12" alt="Carol Smith" />
                </div>
                <span class="text-sm font-medium text-muted-foreground uppercase tracking-wider">Large</span>
              </div>
            </div>
          </div>

          <!-- Fallback Initials -->
          <div>
            <h3 class="font-heading text-lg font-semibold mb-4">Fallback Initials</h3>
            <div class="flex items-center gap-6 flex-wrap">
              <div class="mw-avatar mw-avatar-sm">
                <span>AJ</span>
              </div>
              <div class="mw-avatar">
                <span>BW</span>
              </div>
              <div class="mw-avatar mw-avatar-lg">
                <span>CS</span>
              </div>
            </div>
          </div>

          <!-- Avatar Group -->
          <div>
            <h3 class="font-heading text-lg font-semibold mb-4">Avatar Group</h3>
            <div class="flex -space-x-4">
              <div class="mw-avatar ring-2 ring-background">
                <img src="https://i.pravatar.cc/150?img=32" alt="Alice Johnson" />
              </div>
              <div class="mw-avatar ring-2 ring-background">
                <img src="https://i.pravatar.cc/150?img=47" alt="Bob Wilson" />
              </div>
              <div class="mw-avatar ring-2 ring-background">
                <img src="https://i.pravatar.cc/150?img=12" alt="Carol Smith" />
              </div>
              <div class="mw-avatar ring-2 ring-background">
                <span>+3</span>
              </div>
            </div>
          </div>

          <!-- With Status -->
          <div>
            <h3 class="font-heading text-lg font-semibold mb-4">With Status Indicator</h3>
            <div class="flex items-center gap-6 flex-wrap">
              <!-- Online -->
              <div class="relative inline-block">
                <div class="mw-avatar">
                  <img src="https://i.pravatar.cc/150?img=32" alt="Alice Johnson" />
                </div>
                <span class="absolute bottom-0 right-0 block h-3 w-3 rounded-full bg-green-500 ring-2 ring-background"></span>
              </div>
              <!-- Offline -->
              <div class="relative inline-block">
                <div class="mw-avatar">
                  <img src="https://i.pravatar.cc/150?img=47" alt="Bob Wilson" />
                </div>
                <span class="absolute bottom-0 right-0 block h-3 w-3 rounded-full bg-muted ring-2 ring-background"></span>
              </div>
              <!-- Away -->
              <div class="relative inline-block">
                <div class="mw-avatar">
                  <img src="https://i.pravatar.cc/150?img=12" alt="Carol Smith" />
                </div>
                <span class="absolute bottom-0 right-0 block h-3 w-3 rounded-full bg-yellow-500 ring-2 ring-background"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Code -->
    <div class="space-y-4">
      <h2 class="font-heading text-2xl font-semibold tracking-tight text-pretty">Code</h2>
      <CodeBlock code={avatarCode} lang="html" />
    </div>

    <!-- Usage -->
    <div class="space-y-4">
      <h2 class="font-heading text-2xl font-semibold tracking-tight text-pretty">Usage</h2>
      <div class="mw-card space-y-6">
        <div>
          <h3 class="font-heading text-lg font-semibold mb-3">CSS Classes</h3>
          <div class="overflow-x-auto">
            <table class="w-full text-sm">
              <thead>
                <tr class="border-b border-border">
                  <th class="text-left py-3 px-4 font-semibold">Class</th>
                  <th class="text-left py-3 px-4 font-semibold">Description</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-border">
                <tr>
                  <td class="py-3 px-4"><code class="px-1.5 py-0.5 bg-muted rounded text-sm font-mono">mw-avatar</code></td>
                  <td class="py-3 px-4 text-muted-foreground">Base avatar class (2.5rem / 40px)</td>
                </tr>
                <tr>
                  <td class="py-3 px-4"><code class="px-1.5 py-0.5 bg-muted rounded text-sm font-mono">mw-avatar-sm</code></td>
                  <td class="py-3 px-4 text-muted-foreground">Small size variant (2rem / 32px)</td>
                </tr>
                <tr>
                  <td class="py-3 px-4"><code class="px-1.5 py-0.5 bg-muted rounded text-sm font-mono">mw-avatar-lg</code></td>
                  <td class="py-3 px-4 text-muted-foreground">Large size variant (3rem / 48px)</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div>
          <h3 class="font-heading text-lg font-semibold mb-3">Accessibility</h3>
          <ul class="space-y-2 text-muted-foreground leading-relaxed">
            <li class="flex gap-3">
              <span class="text-primary mt-1">•</span>
              <span>Always provide descriptive <code class="px-1.5 py-0.5 bg-muted rounded text-sm font-mono">alt</code> text for avatar images that includes the user's name</span>
            </li>
            <li class="flex gap-3">
              <span class="text-primary mt-1">•</span>
              <span>For decorative avatars, use <code class="px-1.5 py-0.5 bg-muted rounded text-sm font-mono">alt=""</code> to hide from screen readers</span>
            </li>
            <li class="flex gap-3">
              <span class="text-primary mt-1">•</span>
              <span>When using status indicators, consider adding <code class="px-1.5 py-0.5 bg-muted rounded text-sm font-mono">aria-label</code> to communicate online/offline state</span>
            </li>
            <li class="flex gap-3">
              <span class="text-primary mt-1">•</span>
              <span>For avatar groups showing user counts, ensure the "+N" text is readable by screen readers</span>
            </li>
          </ul>
        </div>

        <div>
          <h3 class="font-heading text-lg font-semibold mb-3">Best Practices</h3>
          <ul class="space-y-2 text-muted-foreground leading-relaxed">
            <li class="flex gap-3">
              <span class="text-primary mt-1">•</span>
              <span>Use fallback initials when images fail to load or user has no profile picture</span>
            </li>
            <li class="flex gap-3">
              <span class="text-primary mt-1">•</span>
              <span>Add <code class="px-1.5 py-0.5 bg-muted rounded text-sm font-mono">ring-2 ring-background</code> to avatars in groups to create visual separation</span>
            </li>
            <li class="flex gap-3">
              <span class="text-primary mt-1">•</span>
              <span>Use negative margins (<code class="px-1.5 py-0.5 bg-muted rounded text-sm font-mono">-space-x-4</code>) to create overlapping avatar groups</span>
            </li>
            <li class="flex gap-3">
              <span class="text-primary mt-1">•</span>
              <span>Status indicators should use absolute positioning relative to the avatar container</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</DocsLayout>
