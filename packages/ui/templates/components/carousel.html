<!-- Marrow UI: Carousel -->
<!-- A slideshow component for cycling through content with navigation controls -->
<!-- Requires: Tailwind CSS, Alpine.js, marrow.css, marrow.js -->

<div x-data="mwCarousel(4)">
  <div class="relative overflow-hidden rounded-marrow border border-border">
    <!-- Slides -->
    <div class="relative h-[280px]">
      <div x-show="current === 0"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in duration-300"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        class="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-primary/20 to-primary/5">
        <div class="text-center space-y-2">
          <p class="text-2xl font-bold">Welcome</p>
          <p class="text-muted-foreground">Slide 1 of 4</p>
        </div>
      </div>
      <div x-show="current === 1"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in duration-300"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        class="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-secondary/20 to-secondary/5">
        <div class="text-center space-y-2">
          <p class="text-2xl font-bold">Features</p>
          <p class="text-muted-foreground">Slide 2 of 4</p>
        </div>
      </div>
      <div x-show="current === 2"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in duration-300"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        class="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-accent/20 to-accent/5">
        <div class="text-center space-y-2">
          <p class="text-2xl font-bold">Benefits</p>
          <p class="text-muted-foreground">Slide 3 of 4</p>
        </div>
      </div>
      <div x-show="current === 3"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in duration-300"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        class="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-muted/40 to-muted/10">
        <div class="text-center space-y-2">
          <p class="text-2xl font-bold">Get Started</p>
          <p class="text-muted-foreground">Slide 4 of 4</p>
        </div>
      </div>
    </div>

    <!-- Prev/Next Buttons -->
    <button @click="prev()" class="absolute left-2 top-1/2 -translate-y-1/2 mw-btn mw-btn-outline mw-btn-icon bg-background/80 backdrop-blur-sm" aria-label="Previous slide">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="m15 18-6-6 6-6"/></svg>
    </button>
    <button @click="next()" class="absolute right-2 top-1/2 -translate-y-1/2 mw-btn mw-btn-outline mw-btn-icon bg-background/80 backdrop-blur-sm" aria-label="Next slide">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="m9 18 6-6-6-6"/></svg>
    </button>
  </div>

  <!-- Dot Indicators -->
  <div class="flex justify-center gap-2 mt-4" role="group" aria-label="Slide navigation">
    <template x-for="i in count" :key="i">
      <button @click="goTo(i - 1)"
        :class="current === i - 1 ? 'bg-primary' : 'bg-muted-foreground/30'"
        class="w-2 h-2 rounded-full transition-colors"
        :aria-label="'Go to slide ' + i"
        :aria-current="current === i - 1 ? 'true' : 'false'"></button>
    </template>
  </div>
</div>
