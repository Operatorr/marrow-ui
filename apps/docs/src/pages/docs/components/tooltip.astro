---
import DocsLayout from "../../../layouts/DocsLayout.astro";
import CodeBlock from "../../../components/CodeBlock.astro";

const tooltipCode = `<!-- Tooltip on a button -->
<div x-data="mwTooltip()" class="relative inline-block">
  <button class="mw-btn mw-btn-outline"
          @mouseenter="enter()"
          @mouseleave="leave()">
    Hover me
  </button>
  <div x-show="show"
       x-cloak
       role="tooltip"
       x-transition:enter="transition ease-out duration-150"
       x-transition:enter-start="opacity-0 translate-y-1"
       x-transition:enter-end="opacity-100 translate-y-0"
       x-transition:leave="transition ease-in duration-100"
       x-transition:leave-start="opacity-100 translate-y-0"
       x-transition:leave-end="opacity-0 translate-y-1"
       class="mw-tooltip absolute left-1/2 -translate-x-1/2 bottom-full mb-2 z-50">
    This is a tooltip
  </div>
</div>

<!-- Tooltip on an icon button -->
<div x-data="mwTooltip()" class="relative inline-block">
  <button class="mw-btn mw-btn-ghost mw-btn-icon"
          @mouseenter="enter()"
          @mouseleave="leave()"
          aria-label="More information">
    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
  </button>
  <div x-show="show"
       x-cloak
       role="tooltip"
       x-transition:enter="transition ease-out duration-150"
       x-transition:enter-start="opacity-0 translate-y-1"
       x-transition:enter-end="opacity-100 translate-y-0"
       x-transition:leave="transition ease-in duration-100"
       x-transition:leave-start="opacity-100 translate-y-0"
       x-transition:leave-end="opacity-0 translate-y-1"
       class="mw-tooltip absolute left-1/2 -translate-x-1/2 bottom-full mb-2 z-50">
    More information
  </div>
</div>

<!-- Tooltip on text -->
<div x-data="mwTooltip()" class="relative inline-block">
  <span class="underline decoration-dashed underline-offset-4 cursor-help"
        @mouseenter="enter()"
        @mouseleave="leave()">
    What is this?
  </span>
  <div x-show="show"
       x-cloak
       role="tooltip"
       x-transition:enter="transition ease-out duration-150"
       x-transition:enter-start="opacity-0 translate-y-1"
       x-transition:enter-end="opacity-100 translate-y-0"
       x-transition:leave="transition ease-in duration-100"
       x-transition:leave-start="opacity-100 translate-y-0"
       x-transition:leave-end="opacity-0 translate-y-1"
       class="mw-tooltip absolute left-1/2 -translate-x-1/2 bottom-full mb-2 z-50">
    A helpful explanation
  </div>
</div>

<!-- Tooltip with different positions -->
<div class="flex gap-4">
  <!-- Top tooltip -->
  <div x-data="mwTooltip()" class="relative inline-block">
    <button class="mw-btn mw-btn-primary"
            @mouseenter="enter()"
            @mouseleave="leave()">
      Top
    </button>
    <div x-show="show"
         x-cloak
         role="tooltip"
         x-transition:enter="transition ease-out duration-150"
         x-transition:enter-start="opacity-0 translate-y-1"
         x-transition:enter-end="opacity-100 translate-y-0"
         x-transition:leave="transition ease-in duration-100"
         x-transition:leave-start="opacity-100 translate-y-0"
         x-transition:leave-end="opacity-0 translate-y-1"
         class="mw-tooltip absolute left-1/2 -translate-x-1/2 bottom-full mb-2 z-50">
      Tooltip on top
    </div>
  </div>

  <!-- Bottom tooltip -->
  <div x-data="mwTooltip()" class="relative inline-block">
    <button class="mw-btn mw-btn-primary"
            @mouseenter="enter()"
            @mouseleave="leave()">
      Bottom
    </button>
    <div x-show="show"
         x-cloak
         role="tooltip"
         x-transition:enter="transition ease-out duration-150"
         x-transition:enter-start="opacity-0 -translate-y-1"
         x-transition:enter-end="opacity-100 translate-y-0"
         x-transition:leave="transition ease-in duration-100"
         x-transition:leave-start="opacity-100 translate-y-0"
         x-transition:leave-end="opacity-0 -translate-y-1"
         class="mw-tooltip absolute left-1/2 -translate-x-1/2 top-full mt-2 z-50">
      Tooltip on bottom
    </div>
  </div>
</div>`;
---

<DocsLayout title="Tooltip" description="A popup that displays information on hover" activeComponent="tooltip">
  <div class="space-y-8">
    <div>
      <h1 class="font-heading text-3xl font-bold tracking-tight">Tooltip</h1>
      <p class="mt-2 text-lg text-muted-foreground leading-relaxed">A small popup that appears on hover to provide additional context.</p>
    </div>

    <div class="mw-separator"></div>

    <!-- Preview -->
    <div class="space-y-4">
      <h2 class="font-heading text-2xl font-semibold tracking-tight">Preview</h2>
      <div class="mw-card p-6 flex flex-wrap gap-6 items-center">
        <!-- Tooltip on a button -->
        <div x-data="mwTooltip()" class="relative inline-block">
          <button class="mw-btn mw-btn-outline"
                  @mouseenter="enter()"
                  @mouseleave="leave()">
            Hover me
          </button>
          <div x-show="show"
               x-cloak
               role="tooltip"
               x-transition:enter="transition ease-out duration-150"
               x-transition:enter-start="opacity-0 translate-y-1"
               x-transition:enter-end="opacity-100 translate-y-0"
               x-transition:leave="transition ease-in duration-100"
               x-transition:leave-start="opacity-100 translate-y-0"
               x-transition:leave-end="opacity-0 translate-y-1"
               class="mw-tooltip absolute left-1/2 -translate-x-1/2 bottom-full mb-2 z-50">
            This is a tooltip
          </div>
        </div>

        <!-- Tooltip on an icon button -->
        <div x-data="mwTooltip()" class="relative inline-block">
          <button class="mw-btn mw-btn-ghost mw-btn-icon"
                  @mouseenter="enter()"
                  @mouseleave="leave()"
                  aria-label="More information">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
          </button>
          <div x-show="show"
               x-cloak
               role="tooltip"
               x-transition:enter="transition ease-out duration-150"
               x-transition:enter-start="opacity-0 translate-y-1"
               x-transition:enter-end="opacity-100 translate-y-0"
               x-transition:leave="transition ease-in duration-100"
               x-transition:leave-start="opacity-100 translate-y-0"
               x-transition:leave-end="opacity-0 translate-y-1"
               class="mw-tooltip absolute left-1/2 -translate-x-1/2 bottom-full mb-2 z-50">
            More information
          </div>
        </div>

        <!-- Tooltip on text -->
        <div x-data="mwTooltip()" class="relative inline-block">
          <span class="underline decoration-dashed underline-offset-4 cursor-help text-muted-foreground"
                @mouseenter="enter()"
                @mouseleave="leave()">
            What is this?
          </span>
          <div x-show="show"
               x-cloak
               role="tooltip"
               x-transition:enter="transition ease-out duration-150"
               x-transition:enter-start="opacity-0 translate-y-1"
               x-transition:enter-end="opacity-100 translate-y-0"
               x-transition:leave="transition ease-in duration-100"
               x-transition:leave-start="opacity-100 translate-y-0"
               x-transition:leave-end="opacity-0 translate-y-1"
               class="mw-tooltip absolute left-1/2 -translate-x-1/2 bottom-full mb-2 z-50">
            A helpful explanation
          </div>
        </div>

        <!-- Tooltip with different positions -->
        <div class="flex gap-4">
          <!-- Top tooltip -->
          <div x-data="mwTooltip()" class="relative inline-block">
            <button class="mw-btn mw-btn-primary"
                    @mouseenter="enter()"
                    @mouseleave="leave()">
              Top
            </button>
            <div x-show="show"
                 x-cloak
                 role="tooltip"
                 x-transition:enter="transition ease-out duration-150"
                 x-transition:enter-start="opacity-0 translate-y-1"
                 x-transition:enter-end="opacity-100 translate-y-0"
                 x-transition:leave="transition ease-in duration-100"
                 x-transition:leave-start="opacity-100 translate-y-0"
                 x-transition:leave-end="opacity-0 translate-y-1"
                 class="mw-tooltip absolute left-1/2 -translate-x-1/2 bottom-full mb-2 z-50">
              Tooltip on top
            </div>
          </div>

          <!-- Bottom tooltip -->
          <div x-data="mwTooltip()" class="relative inline-block">
            <button class="mw-btn mw-btn-primary"
                    @mouseenter="enter()"
                    @mouseleave="leave()">
              Bottom
            </button>
            <div x-show="show"
                 x-cloak
                 role="tooltip"
                 x-transition:enter="transition ease-out duration-150"
                 x-transition:enter-start="opacity-0 -translate-y-1"
                 x-transition:enter-end="opacity-100 translate-y-0"
                 x-transition:leave="transition ease-in duration-100"
                 x-transition:leave-start="opacity-100 translate-y-0"
                 x-transition:leave-end="opacity-0 -translate-y-1"
                 class="mw-tooltip absolute left-1/2 -translate-x-1/2 top-full mt-2 z-50">
              Tooltip on bottom
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Code -->
    <div class="space-y-4">
      <h2 class="font-heading text-2xl font-semibold tracking-tight">Code</h2>
      <CodeBlock code={tooltipCode} lang="html" />
    </div>

    <!-- Usage -->
    <div class="space-y-4">
      <h2 class="font-heading text-2xl font-semibold tracking-tight">Usage</h2>

      <div class="space-y-4">
        <div>
          <h3 class="font-heading text-lg font-semibold">Alpine.js API</h3>
          <p class="text-muted-foreground leading-relaxed mt-2">Initialize with <code class="px-1.5 py-0.5 bg-muted rounded text-sm font-mono">x-data="mwTooltip()"</code>.</p>
        </div>

        <div class="mw-card overflow-hidden">
          <table class="w-full text-sm">
            <thead class="bg-muted/50 border-b border-border">
              <tr>
                <th class="text-left p-3 font-semibold">Property</th>
                <th class="text-left p-3 font-semibold">Type</th>
                <th class="text-left p-3 font-semibold">Description</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-border">
              <tr>
                <td class="p-3 font-mono text-xs">show</td>
                <td class="p-3 text-muted-foreground">Boolean</td>
                <td class="p-3 text-muted-foreground leading-relaxed">Tooltip visibility state</td>
              </tr>
              <tr>
                <td class="p-3 font-mono text-xs">enter()</td>
                <td class="p-3 text-muted-foreground">Function</td>
                <td class="p-3 text-muted-foreground leading-relaxed">Show the tooltip</td>
              </tr>
              <tr>
                <td class="p-3 font-mono text-xs">leave()</td>
                <td class="p-3 text-muted-foreground">Function</td>
                <td class="p-3 text-muted-foreground leading-relaxed">Hide the tooltip</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div>
          <h3 class="font-heading text-lg font-semibold">CSS Classes</h3>
          <p class="text-muted-foreground leading-relaxed mt-2">The <code class="px-1.5 py-0.5 bg-muted rounded text-sm font-mono">mw-tooltip</code> class provides the base tooltip styling with foreground background, background text color, small text, padding, rounded corners, and shadow.</p>
        </div>

        <div>
          <h3 class="font-heading text-lg font-semibold">Positioning</h3>
          <p class="text-muted-foreground leading-relaxed mt-2">Tooltips are positioned using Tailwind utility classes. Common patterns include:</p>
          <ul class="mt-2 space-y-2 text-muted-foreground leading-relaxed">
            <li><strong>Top:</strong> <code class="px-1.5 py-0.5 bg-muted rounded text-sm font-mono">bottom-full mb-2</code> — Places tooltip above the trigger</li>
            <li><strong>Bottom:</strong> <code class="px-1.5 py-0.5 bg-muted rounded text-sm font-mono">top-full mt-2</code> — Places tooltip below the trigger</li>
            <li><strong>Centering:</strong> <code class="px-1.5 py-0.5 bg-muted rounded text-sm font-mono">left-1/2 -translate-x-1/2</code> — Centers tooltip horizontally</li>
          </ul>
        </div>

        <div>
          <h3 class="font-heading text-lg font-semibold">Accessibility</h3>
          <ul class="mt-2 space-y-2 text-muted-foreground leading-relaxed">
            <li>Add <code class="px-1.5 py-0.5 bg-muted rounded text-sm font-mono">role="tooltip"</code> to the tooltip element for screen reader support</li>
            <li>Use <code class="px-1.5 py-0.5 bg-muted rounded text-sm font-mono">aria-label</code> on icon buttons to provide accessible names</li>
            <li>Add <code class="px-1.5 py-0.5 bg-muted rounded text-sm font-mono">aria-hidden="true"</code> to decorative icons inside buttons</li>
            <li>Use <code class="px-1.5 py-0.5 bg-muted rounded text-sm font-mono">x-cloak</code> to prevent flash of unstyled content</li>
            <li>Ensure tooltips are triggered on both mouse hover and keyboard focus for full accessibility</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</DocsLayout>
