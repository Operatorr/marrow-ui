<!-- Marrow UI: Toast -->
<!-- Temporary notification messages that appear at the bottom-right -->
<!-- Requires: Tailwind CSS, Alpine.js, marrow.css, marrow.js -->

<!-- Trigger buttons -->
<button class="mw-btn mw-btn-primary"
        @click="$store.toasts.add({ type: 'success', title: 'Success', message: 'Your changes have been saved.' })">
  Success Toast
</button>

<button class="mw-btn mw-btn-destructive"
        @click="$store.toasts.add({ type: 'error', title: 'Error', message: 'Something went wrong.' })">
  Error Toast
</button>

<button class="mw-btn mw-btn-outline"
        @click="$store.toasts.add({ type: 'info', title: 'Info', message: 'A new update is available.' })">
  Info Toast
</button>

<!-- Toast container (place once, at the bottom of your page) -->
<div x-data
     class="fixed bottom-4 right-4 z-50 flex flex-col gap-2"
     style="pointer-events: none;">
  <template x-for="toast in $store.toasts.items" :key="toast.id">
    <div class="mw-card flex items-start gap-3 min-w-[20rem] max-w-sm shadow-lg"
         style="pointer-events: auto;"
         x-transition:enter="transition ease-out duration-200"
         x-transition:enter-start="opacity-0 translate-y-2"
         x-transition:enter-end="opacity-100 translate-y-0"
         x-transition:leave="transition ease-in duration-150"
         x-transition:leave-start="opacity-100 translate-y-0"
         x-transition:leave-end="opacity-0 translate-y-2">
      <!-- Icon (conditional on toast.type) -->
      <template x-if="toast.type === 'success'">
        <svg class="w-5 h-5 text-green-500 shrink-0 mt-0.5" ...></svg>
      </template>
      <template x-if="toast.type === 'error'">
        <svg class="w-5 h-5 text-red-500 shrink-0 mt-0.5" ...></svg>
      </template>
      <template x-if="toast.type === 'info'">
        <svg class="w-5 h-5 text-blue-500 shrink-0 mt-0.5" ...></svg>
      </template>
      <!-- Content -->
      <div class="flex-1 min-w-0">
        <p class="font-medium text-sm" x-text="toast.title"></p>
        <p class="text-sm text-muted-foreground" x-text="toast.message"></p>
      </div>
      <!-- Close button -->
      <button @click="$store.toasts.remove(toast.id)"
              class="shrink-0 text-muted-foreground hover:text-foreground">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
      </button>
    </div>
  </template>
</div>
