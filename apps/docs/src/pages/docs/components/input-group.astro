---
import DocsLayout from "../../../layouts/DocsLayout.astro";
import CodeBlock from "../../../components/CodeBlock.astro";
import { loadFull } from "../../../utils/template-loader";

const inputGroupCode = loadFull("input-group");
---

<DocsLayout title="Input Group" description="Combine inputs with prefix or suffix addons like text, icons, or buttons" activeComponent="input-group">
  <div class="space-y-12">

    <!-- Hero -->
    <header>
      <div class="flex items-center gap-3 mb-4">
        <span class="docs-badge">Layout & Containers</span>
        <span class="docs-badge-primary docs-badge">Pure CSS</span>
      </div>
      <h1 class="docs-hero-title">Input Group</h1>
      <p class="docs-hero-description mt-3">Combine inputs with prefix or suffix addons like text, icons, or buttons for enhanced context and functionality.</p>
    </header>

    <!-- Preview -->
    <section>
      <span class="docs-section-label">Preview</span>
      <div class="docs-stage space-y-8">
        <div class="w-full max-w-md mx-auto space-y-6">
          <!-- URL Input -->
          <div>
            <p class="text-xs font-semibold uppercase tracking-wider text-muted-foreground/70 mb-3">URL Prefix</p>
            <label for="url-input" class="mw-label mb-1.5 block">Website URL</label>
            <div class="flex">
              <span class="inline-flex items-center px-3 text-sm text-muted-foreground border border-r-0 rounded-l-[var(--marrow-radius)]" style="border-color: hsl(var(--marrow-input)); background: hsl(var(--marrow-muted));">https://</span>
              <input id="url-input" type="text" class="mw-input rounded-l-none" placeholder="example.com" />
            </div>
          </div>

          <!-- Search Input -->
          <div>
            <p class="text-xs font-semibold uppercase tracking-wider text-muted-foreground/70 mb-3">Button Suffix</p>
            <label for="search-input" class="mw-label mb-1.5 block">Search Products</label>
            <div class="flex">
              <input id="search-input" type="text" class="mw-input rounded-r-none" placeholder="Search..." />
              <button class="mw-btn mw-btn-primary rounded-l-none" aria-label="Search">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                  <circle cx="11" cy="11" r="8"/>
                  <path d="m21 21-4.3-4.3"/>
                </svg>
              </button>
            </div>
          </div>

          <!-- Currency Input -->
          <div>
            <p class="text-xs font-semibold uppercase tracking-wider text-muted-foreground/70 mb-3">Symbol Prefix</p>
            <label for="price-input" class="mw-label mb-1.5 block">Price</label>
            <div class="flex">
              <span class="inline-flex items-center justify-center px-3 text-sm text-muted-foreground border border-r-0 rounded-l-[var(--marrow-radius)]" style="border-color: hsl(var(--marrow-input)); background: hsl(var(--marrow-muted));">$</span>
              <input id="price-input" type="number" class="mw-input rounded-l-none" placeholder="0.00" step="0.01" />
            </div>
          </div>

          <!-- Phone Input -->
          <div>
            <p class="text-xs font-semibold uppercase tracking-wider text-muted-foreground/70 mb-3">Select Prefix</p>
            <label for="phone-input" class="mw-label mb-1.5 block">Phone Number</label>
            <div class="flex">
              <select id="country-code" class="mw-select rounded-r-none border-r-0" style="min-width: 100px;" aria-label="Country code">
                <option>+1</option>
                <option>+44</option>
                <option>+81</option>
              </select>
              <input id="phone-input" type="tel" class="mw-input rounded-l-none" placeholder="555-0123" />
            </div>
          </div>

          <!-- Email Input -->
          <div>
            <p class="text-xs font-semibold uppercase tracking-wider text-muted-foreground/70 mb-3">Icon Prefix</p>
            <label for="email-input" class="mw-label mb-1.5 block">Email Address</label>
            <div class="flex">
              <span class="inline-flex items-center justify-center w-10 border border-r-0 rounded-l-[var(--marrow-radius)] text-muted-foreground" style="border-color: hsl(var(--marrow-input)); background: hsl(var(--marrow-muted));">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                  <rect width="20" height="16" x="2" y="4" rx="2"/>
                  <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/>
                </svg>
              </span>
              <input id="email-input" type="email" class="mw-input rounded-l-none" placeholder="you@example.com" autocomplete="email" />
            </div>
          </div>

          <!-- Username Input -->
          <div>
            <p class="text-xs font-semibold uppercase tracking-wider text-muted-foreground/70 mb-3">Text Suffix</p>
            <label for="username-input" class="mw-label mb-1.5 block">Email Username</label>
            <div class="flex">
              <input id="username-input" type="text" class="mw-input rounded-r-none" placeholder="username" />
              <span class="inline-flex items-center px-3 text-sm text-muted-foreground border border-l-0 rounded-r-[var(--marrow-radius)]" style="border-color: hsl(var(--marrow-input)); background: hsl(var(--marrow-muted));">@gmail.com</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- In Context -->
    <section>
      <span class="docs-section-label">In Context</span>
      <div class="docs-stage">
        <div class="max-w-lg mx-auto space-y-6">
          <!-- Search Bar -->
          <div class="rounded-lg border border-border bg-card p-6 space-y-3">
            <h3 class="font-heading text-base font-semibold">Product Search</h3>
            <p class="text-sm text-muted-foreground">Find items in our catalog.</p>
            <div class="flex">
              <input type="text" class="mw-input rounded-r-none" placeholder="Search for products..." />
              <button class="mw-btn mw-btn-primary rounded-l-none" aria-label="Search">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                  <circle cx="11" cy="11" r="8"/>
                  <path d="m21 21-4.3-4.3"/>
                </svg>
                <span class="ml-1.5">Search</span>
              </button>
            </div>
          </div>
          <!-- URL Input -->
          <div class="rounded-lg border border-border bg-card p-6 space-y-3">
            <h3 class="font-heading text-base font-semibold">Website Configuration</h3>
            <p class="text-sm text-muted-foreground">Enter your website URL and social profiles.</p>
            <div class="space-y-3">
              <div>
                <label class="mw-label mb-1.5 block">Website</label>
                <div class="flex">
                  <span class="inline-flex items-center px-3 text-sm text-muted-foreground border border-r-0 rounded-l-[var(--marrow-radius)]" style="border-color: hsl(var(--marrow-input)); background: hsl(var(--marrow-muted));">https://</span>
                  <input type="text" class="mw-input rounded-l-none" placeholder="your-site.com" />
                </div>
              </div>
              <div>
                <label class="mw-label mb-1.5 block">Twitter Handle</label>
                <div class="flex">
                  <span class="inline-flex items-center px-3 text-sm text-muted-foreground border border-r-0 rounded-l-[var(--marrow-radius)]" style="border-color: hsl(var(--marrow-input)); background: hsl(var(--marrow-muted));">@</span>
                  <input type="text" class="mw-input rounded-l-none" placeholder="username" />
                </div>
              </div>
            </div>
            <div class="flex justify-end">
              <button class="mw-btn mw-btn-primary mw-btn-sm">Save</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Code -->
    <section>
      <span class="docs-section-label">Code</span>
      <div class="space-y-4">
        <CodeBlock code={inputGroupCode} lang="html" />
      </div>
    </section>

    <!-- API Reference -->
    <section>
      <span class="docs-section-label">API Reference</span>
      <div class="overflow-x-auto rounded-lg border border-border">
        <table class="docs-api-table">
          <thead>
            <tr>
              <th>Class / Pattern</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr><td><code>mw-input</code></td><td>Base input class (used with border radius overrides)</td></tr>
            <tr><td><code>mw-select</code></td><td>Base select class (used as prefix/suffix addon)</td></tr>
            <tr><td><code>rounded-l-none</code></td><td>Remove left border radius for right-side elements</td></tr>
            <tr><td><code>rounded-r-none</code></td><td>Remove right border radius for left-side elements</td></tr>
            <tr><td><code>rounded-l-[var(--marrow-radius)]</code></td><td>Theme-aware left border radius for outer addons</td></tr>
            <tr><td><code>rounded-r-[var(--marrow-radius)]</code></td><td>Theme-aware right border radius for outer addons</td></tr>
            <tr><td><code>border-r-0</code> / <code>border-l-0</code></td><td>Remove shared border between adjacent elements</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Guidelines -->
    <section>
      <span class="docs-section-label">Guidelines</span>
      <div class="space-y-4">
        <div class="docs-note">
          <p><strong>Accessibility</strong></p>
          <ul class="list-disc list-inside mt-2 space-y-1">
            <li>Always associate labels with inputs using the <code>for</code> / <code>id</code> attributes</li>
            <li>For icon-only buttons, provide <code>aria-label</code> attributes</li>
            <li>Decorative icons should have <code>aria-hidden="true"</code></li>
            <li>Use appropriate <code>autocomplete</code> and <code>inputmode</code> attributes for enhanced mobile experiences</li>
            <li>Select addons used as country code pickers should include <code>aria-label</code></li>
          </ul>
        </div>
        <div class="docs-note">
          <p><strong>Best Practices</strong></p>
          <ul class="list-disc list-inside mt-2 space-y-1">
            <li>Use a <code>flex</code> container to combine an <code>mw-input</code> with addon elements</li>
            <li>Addon styling uses inline <code>border-color</code> and <code>background</code> to match the input appearance</li>
            <li>Common patterns: URL prefixes, search buttons, currency symbols, phone country codes, email domain suffixes</li>
            <li>Remove the appropriate border radius from adjacent elements to create seamless connections</li>
            <li>Addons can be text spans, icons, buttons, or select elements positioned as prefix or suffix</li>
          </ul>
        </div>
      </div>
    </section>

  </div>
</DocsLayout>
